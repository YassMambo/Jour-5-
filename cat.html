<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jour 5 - API avec async/await</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container-md">
        <h1 class="text-center pt-3 fw-bold text-decoration-underline fst-italic" style="font-family: Lucida;">Le Dernier Mois du Condamn√©</h1>
        <h2 class="pt-3 fw-bold text-decoration-underline fst-italic" style="font-family: Lucida;">Jour 5: API du condamn√©</h2>
        <div class="card" style="max-width: 300px;">
            <img id="catImage" class="card-img-top" src="" alt="Image de chat" style="max-height: 200px;">
            <div class="card-body">
              <h5 class="card-title">G√©n√©rons des images de chat gr√¢ce √† l'API</h5>
              <p class="card-text" >Cliquez pour generer une image</p>
              <button class="btn btn-secondary" onclick="getCatImage()">Miaou üê±</button>
            </div>
        </div>
    </div>

    <script>
        // Fonction pour obtenir une image de chat
        async function getCatImage() {
            const catImageElement = document.getElementById('catImage');

            try {
                const response = await fetch('https://api.thecatapi.com/v1/images/search');
                if (!response.ok) {
                    throw new Error("Erreur lors de la r√©cup√©ration de l\'image.");
                }
                const data = await response.json();
                const imageUrl = data[0].url;

                // Mettre √† jour l'image avec l'URL de l'image du chat
                catImageElement.src = imageUrl;
            } catch (error) {
                alert('Une erreur est survenue : ' + error.message);
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
